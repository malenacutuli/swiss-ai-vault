# Kubernetes Secrets Template for SwissBrain AI
#
# SECURITY WARNING: This is a TEMPLATE file with placeholder values.
# DO NOT commit actual secrets to version control!
#
# Usage:
# 1. Copy this file: cp secrets-template.yaml secrets.yaml
# 2. Replace all <PLACEHOLDER> values with actual secrets
# 3. Apply: kubectl apply -f secrets.yaml
# 4. Delete the file: rm secrets.yaml (or add to .gitignore)
#
# Alternative: Use sealed-secrets or external-secrets for GitOps

---
apiVersion: v1
kind: Secret
metadata:
  name: supabase-secrets
  namespace: swissbrain
  labels:
    app: swissbrain
    component: backend
type: Opaque
stringData:
  # Supabase Configuration
  SUPABASE_URL: "<SUPABASE_PROJECT_URL>"  # e.g., https://xxx.supabase.co
  SUPABASE_ANON_KEY: "<SUPABASE_ANON_KEY>"  # Public anon key
  SUPABASE_SERVICE_ROLE_KEY: "<SUPABASE_SERVICE_ROLE_KEY>"  # Admin key - KEEP SECRET!

---
apiVersion: v1
kind: Secret
metadata:
  name: redis-secrets
  namespace: swissbrain
  labels:
    app: redis
type: Opaque
stringData:
  # Redis Authentication (if enabled)
  REDIS_PASSWORD: "<REDIS_PASSWORD>"  # Generate with: openssl rand -base64 32

---
apiVersion: v1
kind: Secret
metadata:
  name: api-keys
  namespace: swissbrain
  labels:
    app: swissbrain
    component: backend
type: Opaque
stringData:
  # External API Keys
  ANTHROPIC_API_KEY: "<ANTHROPIC_API_KEY>"  # Claude API key
  OPENAI_API_KEY: "<OPENAI_API_KEY>"  # OpenAI API key (if used)

  # Image Generation
  STABILITY_API_KEY: "<STABILITY_API_KEY>"  # Stability AI (if used)

  # Embeddings
  COHERE_API_KEY: "<COHERE_API_KEY>"  # Cohere (if used)

---
apiVersion: v1
kind: Secret
metadata:
  name: oauth-secrets
  namespace: swissbrain
  labels:
    app: swissbrain
    component: auth
type: Opaque
stringData:
  # OAuth Provider Secrets
  GOOGLE_CLIENT_ID: "<GOOGLE_CLIENT_ID>"
  GOOGLE_CLIENT_SECRET: "<GOOGLE_CLIENT_SECRET>"

  GITHUB_CLIENT_ID: "<GITHUB_CLIENT_ID>"
  GITHUB_CLIENT_SECRET: "<GITHUB_CLIENT_SECRET>"

  # JWT Secrets
  JWT_SECRET: "<JWT_SECRET>"  # Generate with: openssl rand -base64 64
  JWT_REFRESH_SECRET: "<JWT_REFRESH_SECRET>"  # Generate with: openssl rand -base64 64

---
apiVersion: v1
kind: Secret
metadata:
  name: stripe-secrets
  namespace: swissbrain
  labels:
    app: swissbrain
    component: billing
type: Opaque
stringData:
  # Stripe Configuration
  STRIPE_SECRET_KEY: "<STRIPE_SECRET_KEY>"  # sk_live_... or sk_test_...
  STRIPE_PUBLISHABLE_KEY: "<STRIPE_PUBLISHABLE_KEY>"  # pk_live_... or pk_test_...
  STRIPE_WEBHOOK_SECRET: "<STRIPE_WEBHOOK_SECRET>"  # whsec_...

---
apiVersion: v1
kind: Secret
metadata:
  name: encryption-keys
  namespace: swissbrain
  labels:
    app: swissbrain
    component: backend
type: Opaque
stringData:
  # Encryption Keys for sensitive data
  ENCRYPTION_KEY: "<ENCRYPTION_KEY>"  # Generate with: openssl rand -hex 32
  ENCRYPTION_SALT: "<ENCRYPTION_SALT>"  # Generate with: openssl rand -hex 16

---
apiVersion: v1
kind: Secret
metadata:
  name: smtp-secrets
  namespace: swissbrain
  labels:
    app: swissbrain
    component: notifications
type: Opaque
stringData:
  # SMTP Configuration (for email notifications)
  SMTP_HOST: "<SMTP_HOST>"  # e.g., smtp.gmail.com
  SMTP_PORT: "<SMTP_PORT>"  # e.g., 587
  SMTP_USER: "<SMTP_USER>"
  SMTP_PASSWORD: "<SMTP_PASSWORD>"
  SMTP_FROM_EMAIL: "<SMTP_FROM_EMAIL>"  # e.g., noreply@swissbrain.ai

---
apiVersion: v1
kind: Secret
metadata:
  name: monitoring-secrets
  namespace: swissbrain
  labels:
    app: monitoring
type: Opaque
stringData:
  # Monitoring and Analytics
  SENTRY_DSN: "<SENTRY_DSN>"  # Error tracking (if used)
  DATADOG_API_KEY: "<DATADOG_API_KEY>"  # Datadog (if used)

---
# Example: Using external-secrets operator (recommended for production)
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: supabase-secrets
#   namespace: swissbrain
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secretsmanager  # or vault, gcpsm, etc.
#     kind: SecretStore
#   target:
#     name: supabase-secrets
#   data:
#     - secretKey: SUPABASE_URL
#       remoteRef:
#         key: swissbrain/supabase
#         property: url
